{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@yippy/auth-ldap/webpack/bootstrap","webpack://@yippy/auth-ldap/webpack/runtime/compat get default export","webpack://@yippy/auth-ldap/webpack/runtime/define property getters","webpack://@yippy/auth-ldap/webpack/runtime/hasOwnProperty shorthand","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'forum/app')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'forum/components/HeaderSecondary')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'common/components/Button')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'common/utils/extractText')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'common/models/Group')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'common/helpers/textContrastClass')\"","webpack://@yippy/auth-ldap/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@yippy/auth-ldap/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@yippy/auth-ldap/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@yippy/auth-ldap/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'common/components/FormModal')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'forum/components/LogInButtons')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'common/utils/ItemList')\"","webpack://@yippy/auth-ldap/external root \"flarum.reg.get('core', 'common/utils/Stream')\"","webpack://@yippy/auth-ldap/./src/forum/components/LDAPLogInModal.js","webpack://@yippy/auth-ldap/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/app');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/HeaderSecondary');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Button');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/extractText');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/Group');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/textContrastClass');","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/FormModal');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/LogInButtons');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/ItemList');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/Stream');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport FormModal from 'flarum/common/components/FormModal';\nimport Button from 'flarum/common/components/Button';\nimport LogInButtons from 'flarum/forum/components/LogInButtons';\nimport extractText from 'flarum/common/utils/extractText';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\nconst translationPrefix = 'yippy-auth-ldap.forum.';\nconst translationErrorsPrefix = 'yippy-auth-ldap.forum.errors.';\nexport default class LDAPLogInModal extends FormModal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\r\n     * The value of the identification input.\r\n     *\r\n     * @type {Function}\r\n     */\n    this.identification = Stream(this.attrs.identification || '');\n\n    /**\r\n     * The value of the password input.\r\n     *\r\n     * @type {Function}\r\n     */\n    this.password = Stream(this.attrs.password || '');\n\n    /**\r\n     * The value of the remember me input.\r\n     *\r\n     * @type {Function}\r\n     */\n    this.remember = Stream(!!this.attrs.remember);\n  }\n  className() {\n    return 'LogInModal Modal--small';\n  }\n  title() {\n    return app.translator.trans(translationPrefix + 'log_in_with', {\n      server: app.forum.attribute('yippy-auth-ldap.method_name')\n    });\n  }\n  content() {\n    return [m(\"div\", {\n      className: \"Modal-body\"\n    }, this.body()), m(\"div\", {\n      className: \"Modal-footer\"\n    }, this.footer())];\n  }\n  body() {\n    return [\n    //<LogInButtons/>,\n\n    m(\"div\", {\n      className: \"Form Form--centered\"\n    }, this.fields().toArray())];\n  }\n  fields() {\n    const items = new ItemList();\n    const idLabel = app.translator.trans('core.forum.log_in.username_or_email_placeholder');\n    const passwordLabel = app.translator.trans('core.forum.log_in.password_placeholder');\n    items.add('identification', m(\"div\", {\n      className: \"Form-group\"\n    }, idLabel, m(\"input\", {\n      className: \"FormControl\",\n      name: \"identification\",\n      type: \"text\",\n      placeholder: idLabel,\n      bidi: this.identification,\n      disabled: this.attrs.loading\n    })), 30);\n    items.add('password', m(\"div\", {\n      className: \"Form-group\"\n    }, passwordLabel, m(\"input\", {\n      className: \"FormControl\",\n      name: \"password\",\n      type: \"password\",\n      placeholder: passwordLabel,\n      bidi: this.password,\n      disabled: this.attrs.loading\n    })), 20);\n\n    /*items.add('remember', <div className=\"Form-group\">\r\n      <div>\r\n        <label className=\"checkbox\">\r\n          <input type=\"checkbox\" bidi={this.remember} disabled={this.loading} />\r\n          {app.translator.trans('core.forum.log_in.remember_me_label')}\r\n        </label>\r\n      </div>\r\n    </div>, 10);*/\n\n    items.add('submit', m(\"div\", {\n      className: \"Form-group\"\n    }, Button.component({\n      className: 'Button Button--primary Button--block',\n      name: 'submit_log_in',\n      type: 'submit',\n      loading: this.attrs.loading\n    }, app.translator.trans('core.forum.log_in.submit_button'))), -10);\n    return items;\n  }\n  footer() {\n    return [\n      /*<p className=\"LogInModal-forgotPassword\">\r\n        <a onclick={this.forgotPassword.bind(this)}>{app.translator.trans('core.forum.log_in.forgot_password_link')}</a>\r\n      </p>,\r\n        app.forum.attribute('allowSignUp') ? (\r\n        <p className=\"LogInModal-signUp\">\r\n          {app.translator.trans('core.forum.log_in.sign_up_text', {a: <a onclick={this.signUp.bind(this)}/>})}\r\n        </p>\r\n      ) : ''*/\n    ];\n  }\n  onready() {\n    this.$('[name=' + (this.identification() ? 'password' : 'identification') + ']').select();\n  }\n\n  /**\r\n   * Attempt to log in a user to LDAP\r\n   */\n  login(body, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    return app.request(_objectSpread({\n      method: 'POST',\n      url: app.forum.attribute('baseUrl') + '/auth/ldap',\n      body\n    }, options));\n  }\n  onsubmit(e) {\n    e.preventDefault();\n    this.loading = true;\n    $('input[name=\"identification\"]').prop(\"disabled\", true);\n    $('input[name=\"password\"]').prop(\"disabled\", true);\n    $('button[name=\"submit_log_in\"]').prop(\"disabled\", true);\n    const identification = this.identification();\n    const password = this.password();\n    const remember = this.remember();\n    const csrfToken = app.session.csrfToken;\n    const data = {\n      identification,\n      password,\n      remember,\n      csrfToken\n    };\n    const options = {\n      errorHandler: this.onerror.bind(this),\n      modifyText: this.modifyResponse.bind(this)\n    };\n    this.login(data, options).catch(() => {});\n  }\n\n  /*\r\n   * To ensure the request on complete will re-enable elements on the login popup or enable the sign up modal depending on the response condition.\r\n   */\n  modifyResponse(response) {\n    $('input[name=\"identification\"]').prop(\"disabled\", false);\n    $('input[name=\"password\"]').prop(\"disabled\", false);\n    $('button[name=\"submit_log_in\"]').prop(\"disabled\", false);\n    if (response.indexOf('app.authenticationComplete') >= 0) {\n      response.replace(/(^.*\\{|\\}.*$)/g, '');\n      var matches = response.match(/[^{\\}]+(?=})/g);\n      if (matches.length > 0) {\n        app.authenticationComplete(JSON.parse(\"{\" + matches[0] + \"}\"));\n      }\n    } else if (response.indexOf(app.translator.trans(translationErrorsPrefix + 'core_csrf_token_mismatch')) >= 0) {\n      // Identify the default csrf_token_mismatch response that is sent in html. Oddly this does not prompt onerror method, will manually invoke onerror method.\n      this.onerror({\n        alert: {\n          content: app.translator.trans(translationErrorsPrefix + 'csrf_token_mismatch'),\n          controls: false,\n          dismissible: false,\n          type: \"error\"\n        },\n        status: 400,\n        response: {\n          errors: [{\n            code: 'csrf_token_mismatch',\n            status: 400\n          }]\n        }\n      });\n    }\n    this.loaded();\n    return response;\n  }\n  onerror(error) {\n    var code_error = null;\n    if (error.response.errors && error.response.errors.length > 0) {\n      code_error = error.response.errors[0].code;\n    }\n    if (error.status === 401) {\n      switch (code_error) {\n        case 'search_filter_is_invalid':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name')\n          });\n          break;\n        case 'not_authenticated':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name')\n          });\n          break;\n        case 'account.invalid_inputs':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error);\n          break;\n        case 'account.not_found':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name')\n          });\n          break;\n        case 'account.incorrect_details':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error);\n          break;\n        case 'account.password_expired':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error);\n          break;\n        case 'account.disabled':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name')\n          });\n          break;\n        case 'account.expired':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name')\n          });\n          break;\n        case 'account.locked':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name')\n          });\n          break;\n        case 'domains.no_domains':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error);\n          break;\n        case 'domains.empty_host':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            domain_index: error.response.errors[0].domain_index\n          });\n          break;\n        case 'domains.empty_base_dn':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            domain_index: error.response.errors[0].domain_index\n          });\n          break;\n        case 'domains.empty_user_username':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name'),\n            domain_index: error.response.errors[0].domain_index\n          });\n          break;\n        case 'domains.empty_search_field':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name'),\n            domain_index: error.response.errors[0].domain_index\n          });\n          break;\n        case 'domains.username_field_does_not_exist':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name'),\n            data: error.response.errors[0].data,\n            domain_index: error.response.errors[0].domain_index\n          });\n          break;\n        case 'domains.mail_field_does_not_exist':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name'),\n            data: error.response.errors[0].data,\n            domain_index: error.response.errors[0].domain_index\n          });\n          break;\n        case 'domains.connection_failed':\n          error.alert.content = app.translator.trans(translationErrorsPrefix + code_error, {\n            server: app.forum.attribute('yippy-auth-ldap.method_name'),\n            data: error.response.errors[0].data,\n            domain_index: error.response.errors[0].domain_index\n          });\n          break;\n        default:\n      }\n    }\n    super.onerror(error);\n  }\n}\nflarum.reg.add('yippy-auth-ldap', 'forum/components/LDAPLogInModal', LDAPLogInModal);","import { extend, override } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport HeaderSecondary from \"flarum/forum/components/HeaderSecondary\";\nimport Button from 'flarum/common/components/Button';\nimport extractText from 'flarum/common/utils/extractText';\nimport Group from 'flarum/common/models/Group';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport LDAPLogInModal from \"./components/LDAPLogInModal\";\nconst translationPrefix = 'yippy-auth-ldap.forum.';\napp.initializers.add('yippy-auth-ldap', () => {\n  extend(HeaderSecondary.prototype, 'items', function (items) {\n    if (items.has('logIn')) {\n      items.add('logInLDAP', Button.component({\n        className: 'Button Button--link',\n        onclick: () => app.modal.show(LDAPLogInModal)\n      }, app.translator.trans(translationPrefix + 'log_in_with', {\n        server: app.forum.attribute('yippy-auth-ldap.method_name')\n      })), 0);\n    }\n  });\n  extend(HeaderSecondary.prototype, 'items', function (items) {\n    if (app.forum.attribute('yippy-auth-ldap.onlyUse')) {\n      if (items.has('signUp')) {\n        items.remove('signUp');\n      }\n      if (items.has('logIn')) {\n        items.remove('logIn');\n      }\n    }\n  });\n  extend(\"flarum/forum/components/LogInModal\", 'oninit', function () {\n    if (app.forum.attribute('yippy-auth-ldap.onlyUse')) {\n      LogInModal.prototype.content = LDAPLogInModal.prototype.content;\n      LogInModal.prototype.title = LDAPLogInModal.prototype.title;\n      LogInModal.prototype.body = LDAPLogInModal.prototype.body;\n      LogInModal.prototype.fields = LDAPLogInModal.prototype.fields;\n      LogInModal.prototype.footer = LDAPLogInModal.prototype.footer;\n      LogInModal.prototype.onerror = LDAPLogInModal.prototype.onerror;\n      LogInModal.prototype.onready = LDAPLogInModal.prototype.onready;\n      LogInModal.prototype.onsubmit = LDAPLogInModal.prototype.onsubmit;\n    }\n  });\n  extend('flarum/forum/components/SignUpModal', 'oninit', function () {\n    this.title = function () {\n      if (this.attrs.isLDAP) {\n        return app.translator.trans(translationPrefix + 'account_found', {\n          server: app.forum.attribute('yippy-auth-ldap.method_name')\n        });\n      } else {\n        return app.translator.trans('core.forum.sign_up.title');\n      }\n    };\n    this.footer = function () {\n      if (this.attrs.isLDAP) {\n        return [];\n      } else {\n        return [m(\"p\", {\n          className: \"SignUpModal-logIn\"\n        }, app.translator.trans('core.forum.sign_up.log_in_text', {\n          a: m(Button, {\n            className: \"Button Button--text Button--link\",\n            onclick: this.logIn.bind(this)\n          })\n        }))];\n      }\n    };\n  });\n  extend(\"flarum/forum/components/SignUpModal\", 'onready', function () {\n    if (this.attrs.assignLDAPPermissionGroupList.length > 0) {\n      this.$('[name=LDAPSelectDropdown]').select2({\n        dropdownCssClass: \":all:\",\n        disabled: true,\n        templateSelection: value => {\n          var output = '<span style=\"margin-left: -18px; padding: 5px 10px 5px 10px; background-color:' + value.color + ';\" class=\"' + textContrastClass(value.color) + '\">';\n          if (value.icon) {\n            output += '<i class=\"fa fa-lg ' + value.icon.toLowerCase() + '\"></i> ';\n          }\n          output += value.text + \"</span>\";\n          return output;\n        },\n        escapeMarkup: m => {\n          return m;\n        },\n        width: '100%',\n        multiple: true,\n        data: this.attrs.assignLDAPPermissionGroupList\n      });\n    }\n  });\n  extend('flarum/forum/components/SignUpModal', 'fields', function (items) {\n    if (this.attrs.isLDAP) {\n      /*\r\n       * Provide field labels to avoid confusion, because the default SignUpModal rely on placeholders.\r\n       * The textfield is already populated, it can look confusing seeing Username and Nickname.\r\n       */\n\n      const usernameLabel = extractText(app.translator.trans('core.forum.sign_up.username_placeholder'));\n      const emailLabel = extractText(app.translator.trans('core.forum.sign_up.email_placeholder'));\n      const passwordLabel = extractText(app.translator.trans('core.forum.sign_up.password_placeholder'));\n      if (items.has('username')) {\n        items.add('usernameLabel', m(\"div\", {\n          className: \"Form-group\"\n        }, usernameLabel), 31);\n      }\n      /*\r\n       * Display LDAP Permission Groups\r\n       */\n      this.attrs.assignLDAPPermissionGroupList = [];\n      if (this.attrs.permissionGroupForLDAP && Array.isArray(this.attrs.permissionGroupForLDAP) && this.attrs.permissionGroupForLDAP.length > 0) {\n        // Get all available permission groups\n        let permissionGroupList = app.store.all('groups').filter(group => {\n          if (group.id() === Group.MEMBER_ID || group.id() === Group.GUEST_ID) {\n            // Do not suggest \"virtual\" groups\n            return false;\n          } else {\n            return true;\n          }\n        });\n        let assignLDAPPermissionGroupList = [];\n        permissionGroupList.forEach(permissionGroup => {\n          let modelPermissionGroup = {\n            id: permissionGroup.data.id,\n            text: permissionGroup.data.attributes.namePlural,\n            icon: permissionGroup.data.attributes.icon,\n            color: permissionGroup.data.attributes.color,\n            isHidden: permissionGroup.data.attributes.isHidden,\n            namePlural: permissionGroup.data.attributes.namePlural,\n            nameSingular: permissionGroup.data.attributes.nameSingular,\n            selected: true\n          };\n          if (this.attrs.permissionGroupForLDAP.includes(modelPermissionGroup.id)) {\n            assignLDAPPermissionGroupList.push(modelPermissionGroup);\n          }\n        });\n        if (assignLDAPPermissionGroupList.length > 0) {\n          this.attrs.assignLDAPPermissionGroupList = assignLDAPPermissionGroupList;\n          items.add('permissionGroups', m(\"div\", {\n            className: \"Form-group\"\n          }, \"Roles\", m(\"select\", {\n            className: \"FormControl \",\n            name: \"LDAPSelectDropdown\"\n          })), 19);\n        }\n      }\n      if (app.forum.attribute('displayNameDriver') === 'nickname' && this.isProvided('nickname')) {\n        const nicknameLabel = extractText(app.translator.trans('flarum-nicknames.forum.sign_up.nickname_placeholder'));\n        items.add('nicknameLabel', m(\"div\", {\n          className: \"Form-group\"\n        }, nicknameLabel), 26);\n      }\n      if (items.has('email')) {\n        items.add('emailLabel', m(\"div\", {\n          className: \"Form-group\"\n        }, emailLabel), 21);\n      }\n    }\n  });\n  override('flarum/forum/components/SignUpModal', 'onsubmit', function (original, e) {\n    e.preventDefault();\n    this.loading = true;\n    const body = this.submitData();\n    if (this.attrs.isLDAP) {\n      app.request({\n        url: app.forum.attribute('baseUrl') + '/register/ldap',\n        method: 'POST',\n        body,\n        errorHandler: this.onerror.bind(this)\n      }).then(() => window.location.reload(), this.loaded.bind(this));\n    } else {\n      app.request({\n        url: app.forum.attribute('baseUrl') + '/register',\n        method: 'POST',\n        body,\n        errorHandler: this.onerror.bind(this)\n      }).then(() => window.location.reload(), this.loaded.bind(this));\n    }\n  });\n  extend('flarum/forum/components/SettingsPage', 'accountItems', function (items) {\n    items.remove('changeEmail');\n    items.remove('changePassword');\n  });\n  extend('flarum/forum/components/SettingsPage', 'settingsItems', function (items) {\n    if (items.has('account') && items.get('account').children.length === 0) {\n      items.remove('account');\n    }\n  });\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","reg","_typeof","Symbol","iterator","constructor","_defineProperty","e","r","t","i","toPrimitive","TypeError","String","toPropertyKey","value","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","translationErrorsPrefix","LDAPLogInModal","oninit","vnode","super","this","identification","attrs","password","remember","className","title","app","translator","trans","translationPrefix","server","forum","attribute","content","m","body","footer","fields","toArray","items","idLabel","passwordLabel","add","name","type","placeholder","bidi","disabled","loading","onready","$","select","login","options","request","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","method","url","onsubmit","preventDefault","data","csrfToken","session","errorHandler","onerror","bind","modifyText","modifyResponse","catch","response","indexOf","replace","matches","match","authenticationComplete","JSON","parse","alert","controls","dismissible","status","errors","code","loaded","error","code_error","domain_index","extend","has","onclick","show","remove","LogInModal","isLDAP","logIn","assignLDAPPermissionGroupList","select2","dropdownCssClass","templateSelection","output","color","icon","toLowerCase","text","escapeMarkup","width","multiple","usernameLabel","emailLabel","permissionGroupForLDAP","Array","isArray","permissionGroupList","all","group","id","permissionGroup","modelPermissionGroup","attributes","namePlural","isHidden","nameSingular","selected","includes","isProvided","nicknameLabel","override","original","submitData","then","window","location","reload","children"],"sourceRoot":""}